---
sort: 1
---

# 设计概要

## 系统整体结构

### 1、系统框架设计

采用C/S模式，分为三大模块：神经网络、虚拟世界、客户端（可视化）。

神经网络、客户端都只与虚拟世界通信，这里规定下模块之间的通信内容：

#### （1）神经网络与虚拟世界通信协议

神经网络传递的信息为虚拟世界中智能体的指令信息，指令格式为：

| index | action type | action param1 | action param2 |

虚拟世界除了返回智能体自身的信息外，还要给出智能体可见范围内的所有角色的信息
（待填）

#### （2）客户端与虚拟世界通信协议

客户端发送给虚拟世界的信息和神经网络的一致，采用相同格式

虚拟世界返回给前端的信息：
a.角色信息
b.移动信息

### 2、虚拟世界功能模块设计

根据目前的功能需求，可以分为九个模块：
（1）移动
（2）攻击
（3）吃/使用消耗品
（4）饮水
（5）拾取
（6）合成
（7）装备
（8）解除装备
（9）丢弃物品

由于模块之间存在相似的操作，未来的动作可能会使用到重复的操作，为了降低这些功能模块之间的耦合度，从代码结构和现实世界的角度重新划分这些模块：
（1）角色：角色模块主要是定义虚拟世界中各类Character的属性与接口，这里将虚拟世界中的各类生物、物品、地形都统一称为Character
（2）时间：时间模块的主要功能是管理虚拟世界中和时间密切关联的一些概念，例如：时间类buff、生物复活、地图场景等
（3）地图：地图模块囊括了地图上所有的Character，提供地点访问和障碍检测的接口
（4）指令：指令模块负责解释并执行指令，根据指令执行的结果产生相应的事件
（5）状态：状态模块用于生物的智能化，主要的功能包括状态转移和生成生物指令
（6）事件：事件模块主要负责处理由指令模块产生的事件，这些事件往往需要对其他模块进行修改

![系统结构](https://github.com/DouPiChen/Eden/blob/master/design/pics/architecture.jpg)

## 角色模块概要

### 1、材料


## 时间模块概要

## 地图模块概要

## 指令模块概要

## 状态模块概要

